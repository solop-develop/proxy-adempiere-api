(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{274:function(t,s,e){"use strict";e.r(s);var a=e(2),n=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[t._v("For supported attribute types (which are used in "),s("code",[t._v("frontend_input")]),t._v("),\nplease refer to "),s("a",{attrs:{href:"https://devdocs.magento.com/guides/m1x/api/soap/catalog/catalogProductAttribute/product_attribute.types.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Magento Attribute Types Dev Docs"),s("OutboundLink")],1),t._v(".\nHowever, only "),s("code",[t._v("multiselect")]),t._v(" and "),s("code",[t._v("select")]),t._v(" are currently used; every other type will be treated as if they were "),s("code",[t._v("text")]),t._v(" and this is handled by "),s("code",[t._v("core/modules/catalog/components/ProductAttribute.ts")]),t._v(" in vue-storefront.")]),t._v(" "),t._m(1),t._v(" "),s("p",[t._v("To add a new attribute to your custom API, you need to know how you're going to use it.\nIn all cases you'll have to push a new attribute specification to ElasticSearch.\nThe format may vary depending on how you want to use them, however here are the most common cases:")]),t._v(" "),t._m(2),t._v(" "),s("p",[t._v("In that case the attributes/index endpoint should have the attribute returned as all you need to do is return the JSON:")]),t._v(" "),t._m(3),t._m(4),t._v(" "),t._m(5),t._m(6),t._v(" "),t._m(7),t._v(" "),s("p",[t._v("Checklist:")]),t._v(" "),t._m(8),t._v(" "),t._m(9),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._m(19),t._v(" "),t._m(20),s("p",[t._v("and the other (a gold colored child) has")]),t._v(" "),t._m(21),t._m(22)])}),[function(){var t=this._self._c;return t("h1",{attrs:{id:"attribute-entity"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#attribute-entity"}},[this._v("#")]),this._v(" Attribute entity")])},function(){var t=this._self._c;return t("h2",{attrs:{id:"adding-attributes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#adding-attributes"}},[this._v("#")]),this._v(" Adding attributes")])},function(){var t=this._self._c;return t("h3",{attrs:{id:"_1-simply-show-attribute-on-product-page"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-simply-show-attribute-on-product-page"}},[this._v("#")]),this._v(" 1. Simply show attribute on product page")])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"attribute_code"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"supplier_note"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"frontend_input"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"frontend_label"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Supplier note"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"is_user_defined"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"is_unique"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"attribute_id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"is_visible"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"is_comparable"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"is_visible_on_front"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"position"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"options"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this._self._c;return t("p",[this._v("and then in the "),t("code",[this._v("products/index")]),this._v(" product record:")])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    (...)\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"supplier_note"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Keep away from the sun. Store in below 0 temperatures"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    (...)\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t._self._c;return s("p",[t._v("Unless you didn't define the "),s("code",[t._v("supplier_note")]),t._v(" format in vue-storefront "),s("code",[t._v("core/modules/catalog/types/Product.ts")]),t._v(" The value\ncan also be an empty string "),s("code",[t._v('""')]),t._v(" or "),s("code",[t._v("null")]),t._v(".")])},function(){var t=this._self._c;return t("h3",{attrs:{id:"_2-use-attribute-to-filter-products"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-use-attribute-to-filter-products"}},[this._v("#")]),this._v(" 2. Use attribute to filter products")])},function(){var t=this,s=t._self._c;return s("ul",[s("li",[t._v("For this to work, the filterable attribute "),s("code",[t._v("frontend_input")]),t._v(" must be "),s("code",[t._v("select")]),t._v(" in the "),s("code",[t._v("attributes/index")]),t._v(" endpoint.")]),t._v(" "),s("li",[t._v("The attribute in the attributes/index endpoint must have an "),s("code",[t._v("options")]),t._v(" node, which needs to look like this:")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"options"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"label"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Pink"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"label"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Gold"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])])},function(){var t=this._self._c;return t("p",[this._v("The value MUST BE of the "),t("code",[this._v("integer")]),this._v(" type.")])},function(){var t=this._self._c;return t("ul",[t("li",[this._v("The product record on "),t("code",[this._v("products/index")]),this._v(" must have the attribute value as the "),t("code",[this._v("integer")]),this._v(" type that matches the attribute\noption "),t("code",[this._v("value")]),this._v(" field. So, a pink product would have:")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  (...)\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"color"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  (...)\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this._self._c;return t("p",[this._v("and "),t("code",[this._v("7")]),this._v(' will be later converted to "Pink" by vue-storefront logic.')])},function(){var t=this._self._c;return t("ul",[t("li",[this._v("If the product is of "),t("code",[this._v("configurable")]),this._v(" type:")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  (...)\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type_id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"configurable"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  (...)\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this._self._c;return t("p",[this._v("and the color defines the product children, the parent product should have color set to "),t("code",[this._v("null")]),this._v(", and the products\nwithin its "),t("code",[this._v("configurable_children")]),this._v(" should have the "),t("code",[this._v("color")]),this._v(" value set.")])},function(){var t=this._self._c;return t("ul",[t("li",[this._v("If the product has children which are defined by color, the parent product should additionally have a "),t("code",[this._v("color_options")]),this._v("\nnode that defines the color IDs of its children, e.g. if the product is available in pink and gold, it should have:")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"color_options"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])])},function(){var t=this._self._c;return t("p",[this._v("returned in it, where one row (a pink colored child) in "),t("code",[this._v("configurable_children")]),this._v(" has")])},function(){var t=this._self._c;return t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[this._v("    "),t("span",{pre:!0,attrs:{class:"token property"}},[this._v('"color"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[this._v(":")]),this._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[this._v("7")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(",")]),this._v("\n")])])])},function(){var t=this._self._c;return t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[this._v("    "),t("span",{pre:!0,attrs:{class:"token property"}},[this._v('"color"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[this._v(":")]),this._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[this._v("8")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(",")]),this._v("\n")])])])},function(){var t=this._self._c;return t("ul",[t("li",[this._v("If the product doesn't have the "),t("code",[this._v("color")]),this._v(" set or available, the attribute should still be returned and the value\nshould be "),t("code",[this._v("null")]),this._v(".")])])}],!1,null,null,null);s.default=n.exports}}]);