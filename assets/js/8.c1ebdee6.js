(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{206:function(t,s,e){},215:function(t,s,e){"use strict";e(206)},272:function(t,s,e){"use strict";e.r(s);e(215);var n=e(2),a=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[t._v("In this chapter, we will cover :")]),t._v(" "),s("p"),t._m(1),s("p"),t._v(" "),t._m(2),t._v(" "),s("p",[t._v("So, you are interested in "),s("strong",[t._v("Storefront API")]),t._v("? Well, that's why you are here. You've made a choice. Your decision will most certainly pay off, which is great. Be it developers, entrepreneurs, or even marketing managers who may want to try something new with the hope of enhancing their clients' or customers' experience, you chose the right path. We will explore everything you need to get you started with "),s("a",{attrs:{href:"https://github.com/DivanteLtd/storefront-api",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("Storefront API")]),t._v(" infrastructure"),s("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(3),t._v(" "),s("p",[t._v("Docker has been arguably the most sought-after development tool ever brought to market, and has taken took the community by storm. Although it's still controversial whether it's the best choice among its peers, I have never seen such unanimous enthusiasm over one tech product throughout the whole developer community.")]),t._v(" "),t._m(4),t._v(" "),s("p",[t._v("Luckily, we have already been through all this for you, getting our hands dirty and doing a lot of the legwork for you. All you need to do is run a set of docker commands to get you up and running from scratch. Without further ado, let's get started!")]),t._v(" "),t._m(5),t._v(" "),s("ul",[s("li",[s("p",[t._v("You need "),s("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-18-04",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("docker")]),s("OutboundLink")],1),t._v(" and "),s("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-install-docker-compose-on-ubuntu-18-04",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("docker-compose")]),s("OutboundLink")],1),t._v(" installed.")])]),t._v(" "),s("li",[s("p",[t._v("You need "),s("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-install-git-on-ubuntu-18-04",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("git")]),s("OutboundLink")],1),t._v(" installed.")])])]),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),s("ol",[s("li",[t._v("First, download "),s("a",{attrs:{href:"https://github.com/DivanteLtd/storefront-api",target:"_blank",rel:"noopener noreferrer"}},[s("strong",[t._v("Storefront API")]),s("OutboundLink")],1),t._v(" from github.")])]),t._v(" "),t._m(8),t._m(9),t._v(" "),t._m(10),t._m(11),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("This step can be skipped if you are OK with the default values in "),s("code",[t._v("default.json")]),t._v(" since it follows the "),s("a",{attrs:{href:"https://github.com/lorenwest/node-config/wiki/Configuration-Files#file-load-order",target:"_blank",rel:"noopener noreferrer"}},[t._v("files load order"),s("OutboundLink")],1),t._v(" of "),s("a",{attrs:{href:"https://github.com/lorenwest/node-config",target:"_blank",rel:"noopener noreferrer"}},[t._v("node-config"),s("OutboundLink")],1)])]),t._v(" "),t._m(12),t._v(" "),s("p",[t._v("To use Storefront API with embedded Elastic 7:")]),t._v(" "),t._m(13),t._m(14),t._v(" "),s("p",[t._v("The result would look something like this :")]),t._v(" "),t._m(15),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),s("p",[t._v("Then,")]),t._v(" "),t._m(19),s("p",[t._v("The ports number will be used later in the frontend configuration. In fact, they are already set as default values.")]),t._v(" "),s("p",[t._v("You will see four containers are running, which are:")]),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),s("ul",[s("li",[s("code",[t._v("build")]),t._v(" is the path for build information. If the value is string, it's a plain path. When it's an object, you may have a few options to add. "),s("code",[t._v("context")]),t._v(" is a relative path or git repo url where the "),s("code",[t._v("Dockerfile")]),t._v(" is located. The "),s("code",[t._v("dockerfile")]),t._v(" node may change the path/name of "),s("code",[t._v("Dockerfile")]),t._v(". "),s("a",{attrs:{href:"https://docs.docker.com/compose/compose-file/#build",target:"_blank",rel:"noopener noreferrer"}},[t._v("more info"),s("OutboundLink")],1)]),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),t._m(40)]),t._v(" "),t._m(41),t._v(" "),t._m(42),t._v(" "),t._m(43),s("ol",{attrs:{start:"2"}},[s("li",[t._v("After that is done you only need to create an config folder and put all the contend of "),s("a",{attrs:{href:"https://github.com/DivanteLtd/storefront-api/tree/master/config",target:"_blank",rel:"noopener noreferrer"}},[t._v("storefront-api/tree/master/config"),s("OutboundLink")],1),t._v(" in there. When that is done you just need to copy the contend of code example into your index.js.")])]),t._v(" "),t._m(44),t._m(45),t._v(" "),s("br"),t._v(" "),s("br")])}),[function(){var t=this._self._c;return t("h1",{attrs:{id:"installation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[this._v("#")]),this._v(" Installation")])},function(){var t=this._self._c;return t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#_0-introduction"}},[this._v("0. Introduction")])]),t("li",[t("a",{attrs:{href:"#_1-installation-with-docker"}},[this._v("1. Installation with Docker")])]),t("li",[t("a",{attrs:{href:"#_2-install-with-npm-packages"}},[this._v("2. Install with npm packages")])])])])},function(){var t=this._self._c;return t("h2",{attrs:{id:"_0-introduction"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-introduction"}},[this._v("#")]),this._v(" 0. Introduction")])},function(){var t=this._self._c;return t("h2",{attrs:{id:"_1-installation-with-docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-installation-with-docker"}},[this._v("#")]),this._v(" 1. Installation with Docker")])},function(){var t=this._self._c;return t("p",[this._v("Why is this so? In modern computer engineering, products are so complex, with an endless list of dependencies intertwined with each other. Building such dependencies in place, for every situation where they are required, is one hell of a job, to say nothing of the glitches from all the version variations. That's where Docker steps in to help you achieve "),t("strong",[this._v("infrastructure automation")]),this._v(". This concept was conceived to help you focus on your business logic rather than having you stuck with the hassles of lower-level tinkering.")])},function(){var t=this._self._c;return t("h3",{attrs:{id:"_1-preparation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-preparation"}},[this._v("#")]),this._v(" 1. Preparation")])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),s("p",[t._v("We will walk you through installation with docker on "),s("em",[t._v("Linux")]),t._v(". (Specifically "),s("em",[t._v("Ubuntu 18.04")]),t._v(")")]),t._v(" "),s("p",[t._v("There is only one bias for Docker before using it; "),s("em",[t._v("Run it on Linux")]),t._v(". Docker is native to Linux and was created using a Linux technology; LXC (linux container). Even though there were many attempts to make it available on other platforms as it is on Linux (and there has definitely been progress in this regard), using Docker on Linux is the most reliable way to deal with the technology.")])])},function(){var t=this._self._c;return t("h3",{attrs:{id:"_2-recipe"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-recipe"}},[this._v("#")]),this._v(" 2. Recipe")])},function(){var t=this._self._c;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("git")]),this._v(" clone https://github.com/DivanteLtd/storefront-api.git storefront-api\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[this._v("cd")]),this._v(" storefront-api\n")])])])},function(){var t=this._self._c;return t("ol",{attrs:{start:"2"}},[t("li",[this._v("Copy "),t("code",[this._v("./config/default.json")]),this._v(" to "),t("code",[this._v("./config/local.json")])])])},function(){var t=this._self._c;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("cp")]),this._v(" config/default.json config/local.json\n")])])])},function(){var t=this._self._c;return t("p",[this._v("Then edit "),t("code",[this._v("local.json")]),this._v(" to suit your needs.")])},function(){var t=this._self._c;return t("ol",{attrs:{start:"3"}},[t("li",[this._v("Run the following Docker command :")])])},function(){var t=this._self._c;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("docker-compose")]),this._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[this._v("-f")]),this._v(" docker-compose.yml up "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[this._v("-d")]),this._v("\n")])])])},function(){var t=this._self._c;return t("p",[this._v("Then, to restore the demo data set, please run:\n"),t("code",[this._v("docker exec -it sfa_app_1 yarn restore7")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("Building app\nStep "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("/8 "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" FROM node:10-alpine\n ---"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 9dfa73010b19\nStep "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("/8 "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" ENV VS_ENV prod\n ---"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Using cache\n ---"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 4d0a83421665\nStep "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("/8 "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" WORKDIR /var/www\n ---"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Using cache\n ---"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" e3871c8db7f3\nStep "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("/8 "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" RUN apk "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" --no-cache "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v("\n ---"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Using cache\n ---"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 49e996f0f6cb\nStep "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("/8 "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" COPY package.json ./\n ---"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 14ed18d76efc\nStep "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("/8 "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" RUN apk "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" --no-cache "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--virtual")]),t._v(" .build-deps ca-certificates "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --no-cache "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("     apk del .build-deps\n ---"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Running "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" 3d6f91acc2fe\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz\nfetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("/2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Installing "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.20")]),t._v(".3-r0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("/2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Installing .build-deps "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nExecuting busybox-1.29.3-r10.trigger\nOK: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(" MiB "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" packages\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" v1.16.0\ninfo No lockfile found.\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("/4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Resolving packages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nwarning @babel/node "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" @babel/polyfill@7.4.4: ðŸš¨ As of Babel "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.4")]),t._v(".0, this\npackage has been deprecated "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" favor of directly\nincluding core-js/stable "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to polyfill ECMAScript\nfeatures"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" and regenerator-runtime/runtime\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("needed to use transpiled generator functions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":\n\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"core-js/stable"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"regenerator-runtime/runtime"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nwarning eslint "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" file-entry-cache "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" flat-cache "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" circular-json@0.3.3: CircularJSON is "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" maintenance only, flatted is its successor.\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("/4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Fetching packages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ... abridged")]),t._v("\n\n\n")])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("-f")]),t._v(" flag allows you to use the following docker-compose file. Without this flag, it will use the default file that is "),s("code",[t._v("docker-compose.yml")])]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("-d")]),t._v(" flag allows you to run the command in "),s("code",[t._v("detach mode")]),t._v(" which means "),s("em",[t._v("running in the background")]),t._v(".")])])},function(){var t=this._self._c;return t("ol",{attrs:{start:"3"}},[t("li",[this._v("In order to verify, run "),t("code",[this._v("docker ps")]),this._v(" to show which containers are up:")])])},function(){var t=this._self._c;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("docker")]),this._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[this._v("ps")]),this._v(" \n")])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("CONTAINER ID        IMAGE                     COMMAND                  CREATED             STATUS              PORTS                                            NAMES\n53a47d5a6440        sfa_kibana   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/bin/bash /usr/locaâ€¦"')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("31")]),t._v(" seconds ago      Up "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("29")]),t._v(" seconds       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".0.0:5601-"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5601")]),t._v("/tcp                           sfa_kibana_1\n7d8f6328601b        sfa_app      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"docker-entrypoint.sâ€¦"')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("31")]),t._v(" seconds ago      Up "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v(" seconds       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".0.0:8080-"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),t._v("/tcp                           safa_app_1\n165ae945dbe5        sfa_es1      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/bin/bash bin/es-doâ€¦"')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" days ago          Up "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v(" seconds       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".0.0:9200-"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9200")]),t._v("/tcp, "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".0.0:9300-"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9300")]),t._v("/tcp   elasticsearch\n8dd144746cef        redis:4-alpine            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"docker-entrypoint.sâ€¦"')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" days ago         Up "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("31")]),t._v(" seconds       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".0.0:6379-"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6379")]),t._v("/tcp                           sfa_redis_1\n")])])])},function(){var t=this,s=t._self._c;return s("table",[s("thead",[s("tr",[s("th",[t._v("Container")]),t._v(" "),s("th",[t._v("Port")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Storefront API app")]),t._v(" "),s("td",[t._v(":8080")])]),t._v(" "),s("tr",[s("td",[t._v("Elasticsearch")]),t._v(" "),s("td",[t._v(":9200")])]),t._v(" "),s("tr",[s("td",[t._v("Redis")]),t._v(" "),s("td",[t._v(":6379")])])])])},function(){var t=this._self._c;return t("h3",{attrs:{id:"_3-peep-into-the-kitchen-what-happens-internally"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-peep-into-the-kitchen-what-happens-internally"}},[this._v("#")]),this._v(" 3. Peep into the kitchen (what happens internally)")])},function(){var t=this._self._c;return t("p",[this._v("We used "),t("code",[this._v("docker-compose")]),this._v(" to set up the entire environment of Storefront API. It was more than enough to launch the machines needed behind the scenes to run the shop.")])},function(){var t=this._self._c;return t("p",[this._v("It was possible because "),t("code",[this._v("docker")]),this._v(" encapsulated the whole infrastructure into a linear set of declarative descriptions for the desired state.")])},function(){var t=this,s=t._self._c;return s("p",[t._v("The "),s("code",[t._v("docker-compose")]),t._v(" command took a "),s("code",[t._v("yml")]),t._v(" file for input. This file describes its base requirements, but also "),s("strong",[t._v("Storefront API")]),t._v(" itself; that is, "),s("strong",[t._v("Elasticsearch")]),t._v(" as a data store, "),s("strong",[t._v("Redis")]),t._v(" for caching and "),s("strong",[t._v("Kibana")]),t._v(" for helping you grab your data visually (a partner to Elasticsearch).")])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3.0'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("es1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" elasticsearch\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" docker/elasticsearch/\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ulimits")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("memlock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("soft")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("-1")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hard")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("-1")]),t._v("    \n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./docker/elasticsearch/config/elasticsearch.yml"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/usr/share/elasticsearch/config/elasticsearch.yml"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ro\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'9200:9200'")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'9300:9300'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" discovery.type=single"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("node\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cluster.name=docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("cluster\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" bootstrap.memory_lock=true\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ES_JAVA_OPTS=-Xmx512m -Xms512m"')]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kibana")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" docker/kibana/\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./docker/kibana/config/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/usr/share/kibana/config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ro\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'5601:5601'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("depends_on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" es1\n\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("redis")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redis:4-alpine'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'6379:6379'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# image: divante/storefront-api:latest")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("context")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" .\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dockerfile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" docker/storefront"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("api/Dockerfile\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("depends_on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" es1\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" redis\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env_file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" docker/storefront"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("api/default.env\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("VS_ENV")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" dev\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./config:/var/www/config'")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./ecosystem.json:/var/www/ecosystem.json'")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./migrations:/var/www/migrations'")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./package.json:/var/www/package.json'")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./babel.config.js:/var/www/babel.config.js'")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./tsconfig.json:/var/www/tsconfig.json'")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./nodemon.json:/var/www/nodemon.json'")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./graphql-schema-linter.config.js:/var/www/graphql-schema-linter.config.js'")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./scripts:/var/www/scripts'")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src:/var/www/src'")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./var:/var/www/var'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tmpfs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /var/www/dist\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'8080:8080'")]),t._v("\n\n      \n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("esdat1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n")])])])},function(){var t=this._self._c;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("NOTE")]),this._v(" "),t("p",[this._v("Once a term is explained, it will be ignored thereafter for consecutive occurrences.")])])},function(){var t=this._self._c;return t("p",[t("code",[this._v("version")]),this._v(" denotes which version of "),t("code",[this._v("docker-compose")]),this._v(" this file uses.")])},function(){var t=this._self._c;return t("p",[t("code",[this._v("services")]),this._v(" describe containers and codifies how they should run. In other words, it codifies option flags used with "),t("code",[this._v("docker run ...")])])},function(){var t=this._self._c;return t("p",[t("code",[this._v("es1")]),this._v(" contains information about the data store "),t("em",[this._v("Elasticsearch")]),this._v(" container.")])},function(){var t=this,s=t._self._c;return s("ul",[s("li",[s("code",[t._v("build")]),t._v(" denotes the build path of the container.")]),t._v(" "),s("li",[s("code",[t._v("volumes")]),t._v(" contains the mount paths of volumes shared between host and container, defined as "),s("em",[t._v("host:container")])]),t._v(" "),s("li",[s("code",[t._v("ports")]),t._v(" connects ports between the host and container, defines as "),s("em",[t._v("host:container")])]),t._v(" "),s("li",[s("code",[t._v("environment")]),t._v(" allows you to add environment variables. "),s("code",[t._v("Xmx512m")]),t._v(" means JVM will take up to a maximum of 512MB memory. "),s("code",[t._v("Xms512m")]),t._v(" means minimum memory. Combining them, there will be no memory resize, it will just stick to 512MB from start to finsih throughout its life cycle.")])])},function(){var t=this._self._c;return t("p",[t("code",[this._v("kibana")]),this._v(" contains information about the "),t("em",[this._v("Kibana")]),this._v(" application container.")])},function(){var t=this,s=t._self._c;return s("ul",[s("li",[s("code",[t._v("depends_on")]),t._v(" defines dependencies of a container on other containers. So, this container is dependent on "),s("code",[t._v("es1")]),t._v("  which was described above.")]),t._v(" "),s("li",[s("code",[t._v("volumes")]),t._v(" means volumes shared, "),s("code",[t._v(":ro")]),t._v(" creates the volume in "),s("code",[t._v("read-only")]),t._v(" mode for the container.")])])},function(){var t=this._self._c;return t("p",[t("code",[this._v("redis")]),this._v(" contains information about the "),t("em",[this._v("Redis")]),this._v(" cache application container.")])},function(){var t=this._self._c;return t("ul",[t("li",[this._v("The "),t("code",[this._v("image")]),this._v(" node contains the name of the image this container is based on.")])])},function(){var t=this._self._c;return t("p",[t("code",[this._v("volumes")]),this._v(" can be defined at the top level to as a reference to be used across multiple services (containers).\n"),t("br"),this._v(" "),t("br")])},function(){var t=this._self._c;return t("p",[t("code",[this._v("app")]),this._v(" contains information about the "),t("em",[this._v("Storefront API")]),this._v(" application.")])},function(){var t=this._self._c;return t("li",[t("code",[this._v("depends_on")]),this._v(" tells us this container is based on the "),t("code",[this._v("es1")]),this._v(" and "),t("code",[this._v("redis")]),this._v(" containers we created above.")])},function(){var t=this._self._c;return t("li",[t("code",[this._v("env_file")]),this._v(" helps you add environment values from files. It's a relative path from the "),t("code",[this._v("docker-compose")]),this._v(" file that is in the process. In this case, it's "),t("code",[this._v("docker-compose.nodejs.yml")])])},function(){var t=this._self._c;return t("li",[t("code",[this._v("environment")]),this._v(" is used to set "),t("code",[this._v("VS_ENV")]),this._v(" as "),t("code",[this._v("dev")]),this._v(" so that the environment will be set up for developer mode.")])},function(){var t=this._self._c;return t("li",[t("code",[this._v("tmpfs")]),this._v(" denotes temporary volumes that are only available to host memory. Unlike "),t("code",[this._v("volumes")]),this._v(", this "),t("code",[this._v("tmpfs")]),this._v(" will be gone once the container stops. This option is only available on "),t("em",[this._v("Linux")]),this._v(".")])},function(){var t=this._self._c;return t("h2",{attrs:{id:"_2-install-with-npm-packages"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-install-with-npm-packages"}},[this._v("#")]),this._v(" 2. Install with npm packages")])},function(){var t=this,s=t._self._c;return s("ol",[s("li",[t._v("Install all needed packages "),s("strong",[t._v("@storefront-api/core")]),t._v(", "),s("strong",[t._v("@storefront-api/default-vsf")]),t._v(", "),s("strong",[t._v("@storefront-api/default-catalog")]),t._v(", "),s("strong",[t._v("@storefront-api/default-img")]),t._v(", "),s("strong",[t._v("@storefront-api/platform-magento2")]),t._v(".")])])},function(){var t=this._self._c;return t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("yarn")]),this._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[this._v("add")]),this._v(" @storefront-api/core@1.0.0-rc.2 @storefront-api/default-vsf@1.0.0-rc.2 @storefront-api/default-catalog@1.0.0-rc.2 @storefront-api/default-img@1.0.0-rc.2 @storefront-api/platform-magento2@1.0.0-rc.2\n")])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// index.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Server "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@storefront-api/core'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" DefaultVuestorefrontApiModule "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@storefront-api/default-vsf'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" DefaultCatalogModule "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@storefront-api/default-catalog'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" DefaultImgModule "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@storefront-api/default-img'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" magento2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@storefront-api/platform-magento2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" modules "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("DefaultVuestorefrontApiModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("platform")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'magento2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("platformImplementation")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" magento2\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("DefaultCatalogModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("DefaultImgModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" server "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Server")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    modules\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nserver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this._self._c;return t("ol",{attrs:{start:"3"}},[t("li",[this._v("Now you only need to run "),t("code",[this._v("node index.js")])])])}],!1,null,null,null);s.default=a.exports}}]);