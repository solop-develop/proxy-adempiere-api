(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{278:function(t,e,i){"use strict";i.r(e);var s=i(2),r=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),e("p",[t._v("To calculate prices and taxes, we first need to get the proper tax rate. It's based on the "),e("router-link",{attrs:{to:"./integration.html#taxrate-entity"}},[e("code",[t._v("taxrate")])]),t._v(" entity, and stored in the Elastic. Each product can have the property "),e("code",[t._v("product.tax_class_id")]),t._v(" fixed. According to its value, Storefront API applies the "),e("code",[t._v("taxrate")]),t._v(". It also applies the country and region to the filter.")],1),t._v(" "),t._m(1),t._v(" "),e("p",[t._v("After getting the right tax rate, we can calculate the prices.")]),t._v(" "),e("p",[t._v("We've got the following price fields priority in VS:")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),e("p",[t._v("Product Special price:")]),t._v(" "),t._m(4),t._v(" "),e("p",[t._v("Product Regular price:")]),t._v(" "),t._m(5),t._v(" "),e("p",[t._v("Product Final price:")]),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9)])}),[function(){var t=this._self._c;return t("h1",{attrs:{id:"prices-how-to"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prices-how-to"}},[this._v("#")]),this._v(" Prices how-to")])},function(){var t=this._self._c;return t("p",[t("strong",[this._v("Note:")]),this._v(" We currently do not support searching the tax rules by "),t("code",[this._v("customer_tax_class_id")]),this._v(" or by the "),t("code",[this._v("tax_postcode")]),this._v(" fields of the "),t("code",[this._v("taxrate")]),this._v(" entity. Pull requests are more than welcome ðŸ˜‰")])},function(){var t=this,e=t._self._c;return e("ul",[e("li",[e("code",[t._v("final_price")]),t._v(" - if set, depending on the "),e("code",[t._v("config.tax.finalPriceIncludesTax")]),t._v(", it's taken as the final price or Net final price.")]),t._v(" "),e("li",[e("code",[t._v("special_price")]),t._v(" - if set and lower than the "),e("code",[t._v("price")]),t._v(", it will replace the "),e("code",[t._v("price")]),t._v(" and the "),e("code",[t._v("price")]),t._v(" value will be set into the "),e("code",[t._v("original_price")]),t._v(" property.")]),t._v(" "),e("li",[e("code",[t._v("price")]),t._v(" - if set, depending on the "),e("code",[t._v("config.tax.sourcePriceIncludesTax")]),t._v(", it's taken as the final price or Net final price.")])])},function(){var t=this._self._c;return t("p",[this._v("Depending on the "),t("code",[this._v("config.tax.finalPriceIncludesTax")]),this._v(" and "),t("code",[this._v("config.tax.sourcePriceIncludesTax")]),this._v(" settings, Vue Storefront calculates the prices and stores them into the following fields:")])},function(){var t=this._self._c;return t("ul",[t("li",[t("code",[this._v("special_price")]),this._v(" - optional - if set, it's always the Net price.")]),this._v(" "),t("li",[t("code",[this._v("special_price_incl_tax")]),this._v(" - optional - if set, it's always the price after taxes.")]),this._v(" "),t("li",[t("code",[this._v("special_price_tax")]),this._v(" - optional - if set, it's the tax amount.")])])},function(){var t=this._self._c;return t("ul",[t("li",[t("code",[this._v("price")]),this._v(" - required - if set, it's always the Net price.")]),this._v(" "),t("li",[t("code",[this._v("price_incl_tax")]),this._v(" - required - if set, it's always the price after taxes.")]),this._v(" "),t("li",[t("code",[this._v("price_tax")]),this._v(" - required - if set, it's the tax amount.")])])},function(){var t=this._self._c;return t("ul",[t("li",[t("code",[this._v("final_price")]),this._v(" - optional - if set, it's always the Net price.")]),this._v(" "),t("li",[t("code",[this._v("final_price_incl_tax")]),this._v(" - optional - if set, it's always the price after taxes.")]),this._v(" "),t("li",[t("code",[this._v("final_price_tax")]),this._v(" - optional - if set, it's the tax amount.")])])},function(){var t=this._self._c;return t("p",[this._v("Product Original price (set only if "),t("code",[this._v("final_price")]),this._v(" or "),t("code",[this._v("special_price")]),this._v(" are lower than "),t("code",[this._v("price")]),this._v("):")])},function(){var t=this._self._c;return t("ul",[t("li",[t("code",[this._v("original_price")]),this._v(" - optional - if set, it's always the Net price.")]),this._v(" "),t("li",[t("code",[this._v("original_price_incl_tax")]),this._v(" - optional - if set, it's always the price after taxes.")]),this._v(" "),t("li",[t("code",[this._v("original_price_tax")]),this._v(" - optional - if set, it's the tax amount.")])])},function(){var t=this._self._c;return t("p",[t("strong",[this._v("Note:")]),this._v(" The prices are set for all "),t("code",[this._v("configurable_children")]),this._v(" with the same format.\n"),t("strong",[this._v("Note:")]),this._v(" If any of the "),t("code",[this._v("configurable_children")]),this._v(" has a price lower than the main product price, the main product price will be updated accordingly.")])}],!1,null,null,null);e.default=r.exports}}]);