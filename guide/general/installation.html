<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Installation | ADempiere Proxy API</title>
    <meta name="description" content="A documentation for Proxy of ADempiere Frontend">
    <link rel="icon" href="/proxy-adempiere-api/favicon.png">
    
    <link rel="preload" href="/proxy-adempiere-api/assets/css/0.styles.fae988bf.css" as="style"><link rel="preload" href="/proxy-adempiere-api/assets/js/app.08c2fc8d.js" as="script"><link rel="preload" href="/proxy-adempiere-api/assets/js/8.c1ebdee6.js" as="script"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/10.b22db69b.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/11.60e05020.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/12.f95d1f37.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/13.b1e633bb.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/14.d57926c9.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/15.bec02c58.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/16.922dd732.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/17.5f822340.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/18.7937a305.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/19.70fe6345.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/2.a15474d7.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/20.d3c71971.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/21.c46e72b1.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/22.c35532eb.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/23.69b407d0.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/24.24f10954.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/25.b5c28ec7.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/26.86660001.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/27.4c27f141.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/28.e289ca95.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/29.c31bae06.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/3.82a7c6b5.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/30.ab68107c.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/31.e531e9b7.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/32.cbbd2241.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/33.cc51b25a.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/34.99bbff86.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/35.c6a2d3ba.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/36.2c15893e.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/37.35a112b2.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/38.a612c412.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/39.d4e9e332.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/4.3f1a8a6c.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/40.a757ca71.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/41.e207143e.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/42.691cffd0.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/43.9c71addc.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/44.ccae792d.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/45.c2023175.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/46.3e2c008f.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/47.7cab4753.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/48.4d68f7e3.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/49.2d622bad.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/5.196e1105.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/50.c40e6a37.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/51.913a1352.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/52.328ad04d.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/53.4a815c2f.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/54.34013ee4.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/55.734d12a1.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/56.27330c78.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/57.029135f4.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/58.1943a356.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/59.a244c02f.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/6.81d76c12.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/60.a57fca42.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/61.90e5b5dd.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/62.0f19f73f.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/63.805344d4.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/64.74c2e16a.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/65.660f5298.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/66.cc2615bc.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/7.b4b0ae16.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/9.6c6e4a14.js">
    <link rel="stylesheet" href="/proxy-adempiere-api/assets/css/0.styles.fae988bf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/proxy-adempiere-api/" class="home-link router-link-active"><!----> <span class="site-name">ADempiere Proxy API</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/proxy-adempiere-api/guide/" class="nav-link router-link-active">ADempiere API</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/proxy-adempiere-api/guide/general/installation.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">en-US</a></li><li class="dropdown-item"><!----> <a href="/proxy-adempiere-api/guide/es/" class="nav-link">es-ES</a></li></ul></div></div> <a href="https://github.com/adempiere/proxy-adempiere-api" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/proxy-adempiere-api/guide/" class="nav-link router-link-active">ADempiere API</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/proxy-adempiere-api/guide/general/installation.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">en-US</a></li><li class="dropdown-item"><!----> <a href="/proxy-adempiere-api/guide/es/" class="nav-link">es-ES</a></li></ul></div></div> <a href="https://github.com/adempiere/proxy-adempiere-api" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav> <div class="load-success"><div id="codefund"></div></div> <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>General Information</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/proxy-adempiere-api/guide/general/installation.html" aria-current="page" class="active sidebar-link">Installation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/proxy-adempiere-api/guide/general/installation.html#_0-introduction" class="sidebar-link">0. Introduction</a></li><li class="sidebar-sub-header"><a href="/proxy-adempiere-api/guide/general/installation.html#_1-installation-with-docker" class="sidebar-link">1. Installation with Docker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/proxy-adempiere-api/guide/general/installation.html#_1-preparation" class="sidebar-link">1. Preparation</a></li><li class="sidebar-sub-header"><a href="/proxy-adempiere-api/guide/general/installation.html#_2-recipe" class="sidebar-link">2. Recipe</a></li><li class="sidebar-sub-header"><a href="/proxy-adempiere-api/guide/general/installation.html#_3-peep-into-the-kitchen-what-happens-internally" class="sidebar-link">3. Peep into the kitchen (what happens internally)</a></li></ul></li><li class="sidebar-sub-header"><a href="/proxy-adempiere-api/guide/general/installation.html#_2-install-with-npm-packages" class="sidebar-link">2. Install with npm packages</a></li></ul></li><li><a href="/proxy-adempiere-api/guide/general/config.html" class="sidebar-link">Configuration</a></li><li><a href="/proxy-adempiere-api/guide/general/extensions.html" class="sidebar-link">Extensions</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>ADempiere</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Default gateway</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Modules</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Integrations</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h1> <p>In this chapter, we will cover :</p> <p></p><div class="table-of-contents"><ul><li><a href="#_0-introduction">0. Introduction</a></li><li><a href="#_1-installation-with-docker">1. Installation with Docker</a></li><li><a href="#_2-install-with-npm-packages">2. Install with npm packages</a></li></ul></div><p></p> <h2 id="_0-introduction"><a href="#_0-introduction" class="header-anchor">#</a> 0. Introduction</h2> <p>So, you are interested in <strong>Storefront API</strong>? Well, that's why you are here. You've made a choice. Your decision will most certainly pay off, which is great. Be it developers, entrepreneurs, or even marketing managers who may want to try something new with the hope of enhancing their clients' or customers' experience, you chose the right path. We will explore everything you need to get you started with <a href="https://github.com/DivanteLtd/storefront-api" target="_blank" rel="noopener noreferrer"><strong>Storefront API</strong> infrastructure<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="_1-installation-with-docker"><a href="#_1-installation-with-docker" class="header-anchor">#</a> 1. Installation with Docker</h2> <p>Docker has been arguably the most sought-after development tool ever brought to market, and has taken took the community by storm. Although it's still controversial whether it's the best choice among its peers, I have never seen such unanimous enthusiasm over one tech product throughout the whole developer community.</p> <p>Why is this so? In modern computer engineering, products are so complex, with an endless list of dependencies intertwined with each other. Building such dependencies in place, for every situation where they are required, is one hell of a job, to say nothing of the glitches from all the version variations. That's where Docker steps in to help you achieve <strong>infrastructure automation</strong>. This concept was conceived to help you focus on your business logic rather than having you stuck with the hassles of lower-level tinkering.</p> <p>Luckily, we have already been through all this for you, getting our hands dirty and doing a lot of the legwork for you. All you need to do is run a set of docker commands to get you up and running from scratch. Without further ado, let's get started!</p> <h3 id="_1-preparation"><a href="#_1-preparation" class="header-anchor">#</a> 1. Preparation</h3> <ul><li><p>You need <a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-18-04" target="_blank" rel="noopener noreferrer"><code>docker</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="https://www.digitalocean.com/community/tutorials/how-to-install-docker-compose-on-ubuntu-18-04" target="_blank" rel="noopener noreferrer"><code>docker-compose</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> installed.</p></li> <li><p>You need <a href="https://www.digitalocean.com/community/tutorials/how-to-install-git-on-ubuntu-18-04" target="_blank" rel="noopener noreferrer"><code>git</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> installed.</p></li></ul> <div class="tip custom-block"><p class="custom-block-title">NOTE</p> <p>We will walk you through installation with docker on <em>Linux</em>. (Specifically <em>Ubuntu 18.04</em>)</p> <p>There is only one bias for Docker before using it; <em>Run it on Linux</em>. Docker is native to Linux and was created using a Linux technology; LXC (linux container). Even though there were many attempts to make it available on other platforms as it is on Linux (and there has definitely been progress in this regard), using Docker on Linux is the most reliable way to deal with the technology.</p></div> <h3 id="_2-recipe"><a href="#_2-recipe" class="header-anchor">#</a> 2. Recipe</h3> <ol><li>First, download <a href="https://github.com/DivanteLtd/storefront-api" target="_blank" rel="noopener noreferrer"><strong>Storefront API</strong><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> from github.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/DivanteLtd/storefront-api.git storefront-api
<span class="token builtin class-name">cd</span> storefront-api
</code></pre></div><ol start="2"><li>Copy <code>./config/default.json</code> to <code>./config/local.json</code></li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cp</span> config/default.json config/local.json
</code></pre></div><p>Then edit <code>local.json</code> to suit your needs.</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>This step can be skipped if you are OK with the default values in <code>default.json</code> since it follows the <a href="https://github.com/lorenwest/node-config/wiki/Configuration-Files#file-load-order" target="_blank" rel="noopener noreferrer">files load order<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> of <a href="https://github.com/lorenwest/node-config" target="_blank" rel="noopener noreferrer">node-config<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <ol start="3"><li>Run the following Docker command :</li></ol> <p>To use Storefront API with embedded Elastic 7:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker-compose</span> <span class="token parameter variable">-f</span> docker-compose.yml up <span class="token parameter variable">-d</span>
</code></pre></div><p>Then, to restore the demo data set, please run:
<code>docker exec -it sfa_app_1 yarn restore7</code></p> <p>The result would look something like this :</p> <div class="language-bash extra-class"><pre class="language-bash"><code>Building app
Step <span class="token number">1</span>/8 <span class="token builtin class-name">:</span> FROM node:10-alpine
 ---<span class="token operator">&gt;</span> 9dfa73010b19
Step <span class="token number">2</span>/8 <span class="token builtin class-name">:</span> ENV VS_ENV prod
 ---<span class="token operator">&gt;</span> Using cache
 ---<span class="token operator">&gt;</span> 4d0a83421665
Step <span class="token number">3</span>/8 <span class="token builtin class-name">:</span> WORKDIR /var/www
 ---<span class="token operator">&gt;</span> Using cache
 ---<span class="token operator">&gt;</span> e3871c8db7f3
Step <span class="token number">4</span>/8 <span class="token builtin class-name">:</span> RUN apk <span class="token function">add</span> --no-cache <span class="token function">curl</span> <span class="token function">git</span>
 ---<span class="token operator">&gt;</span> Using cache
 ---<span class="token operator">&gt;</span> 49e996f0f6cb
Step <span class="token number">5</span>/8 <span class="token builtin class-name">:</span> COPY package.json ./
 ---<span class="token operator">&gt;</span> 14ed18d76efc
Step <span class="token number">6</span>/8 <span class="token builtin class-name">:</span> RUN apk <span class="token function">add</span> --no-cache <span class="token parameter variable">--virtual</span> .build-deps ca-certificates <span class="token function">wget</span> <span class="token operator">&amp;&amp;</span>     <span class="token function">yarn</span> <span class="token function">install</span> --no-cache <span class="token operator">&amp;&amp;</span>     apk del .build-deps
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> 3d6f91acc2fe
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz
<span class="token punctuation">(</span><span class="token number">1</span>/2<span class="token punctuation">)</span> Installing <span class="token function">wget</span> <span class="token punctuation">(</span><span class="token number">1.20</span>.3-r0<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">2</span>/2<span class="token punctuation">)</span> Installing .build-deps <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
Executing busybox-1.29.3-r10.trigger
OK: <span class="token number">22</span> MiB <span class="token keyword">in</span> <span class="token number">26</span> packages
<span class="token function">yarn</span> <span class="token function">install</span> v1.16.0
info No lockfile found.
<span class="token punctuation">[</span><span class="token number">1</span>/4<span class="token punctuation">]</span> Resolving packages<span class="token punctuation">..</span>.
warning @babel/node <span class="token operator">&gt;</span> @babel/polyfill@7.4.4: 🚨 As of Babel <span class="token number">7.4</span>.0, this
package has been deprecated <span class="token keyword">in</span> favor of directly
including core-js/stable <span class="token punctuation">(</span>to polyfill ECMAScript
features<span class="token punctuation">)</span> and regenerator-runtime/runtime
<span class="token punctuation">(</span>needed to use transpiled generator functions<span class="token punctuation">)</span>:

  <span class="token operator">&gt;</span> <span class="token function">import</span> <span class="token string">&quot;core-js/stable&quot;</span><span class="token punctuation">;</span>
  <span class="token operator">&gt;</span> <span class="token function">import</span> <span class="token string">&quot;regenerator-runtime/runtime&quot;</span><span class="token punctuation">;</span>
warning eslint <span class="token operator">&gt;</span> file-entry-cache <span class="token operator">&gt;</span> flat-cache <span class="token operator">&gt;</span> circular-json@0.3.3: CircularJSON is <span class="token keyword">in</span> maintenance only, flatted is its successor.
<span class="token punctuation">[</span><span class="token number">2</span>/4<span class="token punctuation">]</span> Fetching packages<span class="token punctuation">..</span>.

<span class="token comment"># ... abridged</span>


</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>The <code>-f</code> flag allows you to use the following docker-compose file. Without this flag, it will use the default file that is <code>docker-compose.yml</code></p> <p>The <code>-d</code> flag allows you to run the command in <code>detach mode</code> which means <em>running in the background</em>.</p></div> <ol start="3"><li>In order to verify, run <code>docker ps</code> to show which containers are up:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token function">ps</span> 
</code></pre></div><p>Then,</p> <div class="language-bash extra-class"><pre class="language-bash"><code>CONTAINER ID        IMAGE                     COMMAND                  CREATED             STATUS              PORTS                                            NAMES
53a47d5a6440        sfa_kibana   <span class="token string">&quot;/bin/bash /usr/loca…&quot;</span>   <span class="token number">31</span> seconds ago      Up <span class="token number">29</span> seconds       <span class="token number">0.0</span>.0.0:5601-<span class="token operator">&gt;</span><span class="token number">5601</span>/tcp                           sfa_kibana_1
7d8f6328601b        sfa_app      <span class="token string">&quot;docker-entrypoint.s…&quot;</span>   <span class="token number">31</span> seconds ago      Up <span class="token number">27</span> seconds       <span class="token number">0.0</span>.0.0:8080-<span class="token operator">&gt;</span><span class="token number">8080</span>/tcp                           safa_app_1
165ae945dbe5        sfa_es1      <span class="token string">&quot;/bin/bash bin/es-do…&quot;</span>   <span class="token number">8</span> days ago          Up <span class="token number">30</span> seconds       <span class="token number">0.0</span>.0.0:9200-<span class="token operator">&gt;</span><span class="token number">9200</span>/tcp, <span class="token number">0.0</span>.0.0:9300-<span class="token operator">&gt;</span><span class="token number">9300</span>/tcp   elasticsearch
8dd144746cef        redis:4-alpine            <span class="token string">&quot;docker-entrypoint.s…&quot;</span>   <span class="token number">11</span> days ago         Up <span class="token number">31</span> seconds       <span class="token number">0.0</span>.0.0:6379-<span class="token operator">&gt;</span><span class="token number">6379</span>/tcp                           sfa_redis_1
</code></pre></div><p>The ports number will be used later in the frontend configuration. In fact, they are already set as default values.</p> <p>You will see four containers are running, which are:</p> <table><thead><tr><th>Container</th> <th>Port</th></tr></thead> <tbody><tr><td>Storefront API app</td> <td>:8080</td></tr> <tr><td>Elasticsearch</td> <td>:9200</td></tr> <tr><td>Redis</td> <td>:6379</td></tr></tbody></table> <h3 id="_3-peep-into-the-kitchen-what-happens-internally"><a href="#_3-peep-into-the-kitchen-what-happens-internally" class="header-anchor">#</a> 3. Peep into the kitchen (what happens internally)</h3> <p>We used <code>docker-compose</code> to set up the entire environment of Storefront API. It was more than enough to launch the machines needed behind the scenes to run the shop.</p> <p>It was possible because <code>docker</code> encapsulated the whole infrastructure into a linear set of declarative descriptions for the desired state.</p> <p>The <code>docker-compose</code> command took a <code>yml</code> file for input. This file describes its base requirements, but also <strong>Storefront API</strong> itself; that is, <strong>Elasticsearch</strong> as a data store, <strong>Redis</strong> for caching and <strong>Kibana</strong> for helping you grab your data visually (a partner to Elasticsearch).</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.0'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">es1</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> elasticsearch
    <span class="token key atrule">build</span><span class="token punctuation">:</span> docker/elasticsearch/
    <span class="token key atrule">ulimits</span><span class="token punctuation">:</span>
      <span class="token key atrule">memlock</span><span class="token punctuation">:</span>
        <span class="token key atrule">soft</span><span class="token punctuation">:</span> <span class="token number">-1</span>
        <span class="token key atrule">hard</span><span class="token punctuation">:</span> <span class="token number">-1</span>    
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./docker/elasticsearch/config/elasticsearch.yml<span class="token punctuation">:</span>/usr/share/elasticsearch/config/elasticsearch.yml<span class="token punctuation">:</span>ro
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">'9200:9200'</span>
      <span class="token punctuation">-</span> <span class="token string">'9300:9300'</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> discovery.type=single<span class="token punctuation">-</span>node
      <span class="token punctuation">-</span> cluster.name=docker<span class="token punctuation">-</span>cluster
      <span class="token punctuation">-</span> bootstrap.memory_lock=true
      <span class="token punctuation">-</span> <span class="token string">&quot;ES_JAVA_OPTS=-Xmx512m -Xms512m&quot;</span>

  <span class="token key atrule">kibana</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span> docker/kibana/
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./docker/kibana/config/<span class="token punctuation">:</span>/usr/share/kibana/config<span class="token punctuation">:</span>ro
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">'5601:5601'</span>
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> es1

  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">'redis:4-alpine'</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">'6379:6379'</span>
  <span class="token key atrule">app</span><span class="token punctuation">:</span>
    <span class="token comment"># image: divante/storefront-api:latest</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span>
      <span class="token key atrule">context</span><span class="token punctuation">:</span> .
      <span class="token key atrule">dockerfile</span><span class="token punctuation">:</span> docker/storefront<span class="token punctuation">-</span>api/Dockerfile
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> es1
      <span class="token punctuation">-</span> redis
    <span class="token key atrule">env_file</span><span class="token punctuation">:</span> docker/storefront<span class="token punctuation">-</span>api/default.env
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">VS_ENV</span><span class="token punctuation">:</span> dev
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">'./config:/var/www/config'</span>
      <span class="token punctuation">-</span> <span class="token string">'./ecosystem.json:/var/www/ecosystem.json'</span>
      <span class="token punctuation">-</span> <span class="token string">'./migrations:/var/www/migrations'</span>
      <span class="token punctuation">-</span> <span class="token string">'./package.json:/var/www/package.json'</span>
      <span class="token punctuation">-</span> <span class="token string">'./babel.config.js:/var/www/babel.config.js'</span>
      <span class="token punctuation">-</span> <span class="token string">'./tsconfig.json:/var/www/tsconfig.json'</span>
      <span class="token punctuation">-</span> <span class="token string">'./nodemon.json:/var/www/nodemon.json'</span>
      <span class="token punctuation">-</span> <span class="token string">'./graphql-schema-linter.config.js:/var/www/graphql-schema-linter.config.js'</span>
      <span class="token punctuation">-</span> <span class="token string">'./scripts:/var/www/scripts'</span>
      <span class="token punctuation">-</span> <span class="token string">'./src:/var/www/src'</span>
      <span class="token punctuation">-</span> <span class="token string">'./var:/var/www/var'</span>
    <span class="token key atrule">tmpfs</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /var/www/dist
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">'8080:8080'</span>

      

<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">esdat1</span><span class="token punctuation">:</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">NOTE</p> <p>Once a term is explained, it will be ignored thereafter for consecutive occurrences.</p></div> <p><code>version</code> denotes which version of <code>docker-compose</code> this file uses.</p> <p><code>services</code> describe containers and codifies how they should run. In other words, it codifies option flags used with <code>docker run ...</code></p> <p><code>es1</code> contains information about the data store <em>Elasticsearch</em> container.</p> <ul><li><code>build</code> denotes the build path of the container.</li> <li><code>volumes</code> contains the mount paths of volumes shared between host and container, defined as <em>host:container</em></li> <li><code>ports</code> connects ports between the host and container, defines as <em>host:container</em></li> <li><code>environment</code> allows you to add environment variables. <code>Xmx512m</code> means JVM will take up to a maximum of 512MB memory. <code>Xms512m</code> means minimum memory. Combining them, there will be no memory resize, it will just stick to 512MB from start to finsih throughout its life cycle.</li></ul> <p><code>kibana</code> contains information about the <em>Kibana</em> application container.</p> <ul><li><code>depends_on</code> defines dependencies of a container on other containers. So, this container is dependent on <code>es1</code>  which was described above.</li> <li><code>volumes</code> means volumes shared, <code>:ro</code> creates the volume in <code>read-only</code> mode for the container.</li></ul> <p><code>redis</code> contains information about the <em>Redis</em> cache application container.</p> <ul><li>The <code>image</code> node contains the name of the image this container is based on.</li></ul> <p><code>volumes</code> can be defined at the top level to as a reference to be used across multiple services (containers).
<br> <br></p> <p><code>app</code> contains information about the <em>Storefront API</em> application.</p> <ul><li><code>build</code> is the path for build information. If the value is string, it's a plain path. When it's an object, you may have a few options to add. <code>context</code> is a relative path or git repo url where the <code>Dockerfile</code> is located. The <code>dockerfile</code> node may change the path/name of <code>Dockerfile</code>. <a href="https://docs.docker.com/compose/compose-file/#build" target="_blank" rel="noopener noreferrer">more info<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>depends_on</code> tells us this container is based on the <code>es1</code> and <code>redis</code> containers we created above.</li> <li><code>env_file</code> helps you add environment values from files. It's a relative path from the <code>docker-compose</code> file that is in the process. In this case, it's <code>docker-compose.nodejs.yml</code></li> <li><code>environment</code> is used to set <code>VS_ENV</code> as <code>dev</code> so that the environment will be set up for developer mode.</li> <li><code>tmpfs</code> denotes temporary volumes that are only available to host memory. Unlike <code>volumes</code>, this <code>tmpfs</code> will be gone once the container stops. This option is only available on <em>Linux</em>.</li></ul> <h2 id="_2-install-with-npm-packages"><a href="#_2-install-with-npm-packages" class="header-anchor">#</a> 2. Install with npm packages</h2> <ol><li>Install all needed packages <strong>@storefront-api/core</strong>, <strong>@storefront-api/default-vsf</strong>, <strong>@storefront-api/default-catalog</strong>, <strong>@storefront-api/default-img</strong>, <strong>@storefront-api/platform-magento2</strong>.</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">yarn</span> <span class="token function">add</span> @storefront-api/core@1.0.0-rc.2 @storefront-api/default-vsf@1.0.0-rc.2 @storefront-api/default-catalog@1.0.0-rc.2 @storefront-api/default-img@1.0.0-rc.2 @storefront-api/platform-magento2@1.0.0-rc.2
</code></pre></div><ol start="2"><li>After that is done you only need to create an config folder and put all the contend of <a href="https://github.com/DivanteLtd/storefront-api/tree/master/config" target="_blank" rel="noopener noreferrer">storefront-api/tree/master/config<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> in there. When that is done you just need to copy the contend of code example into your index.js.</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// index.js</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Server <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@storefront-api/core'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> DefaultVuestorefrontApiModule <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@storefront-api/default-vsf'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> DefaultCatalogModule <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@storefront-api/default-catalog'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> DefaultImgModule <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@storefront-api/default-img'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> magento2 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@storefront-api/platform-magento2'</span><span class="token punctuation">)</span>

 <span class="token keyword">let</span> modules <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token function">DefaultVuestorefrontApiModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">platform</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'magento2'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">platformImplementation</span><span class="token operator">:</span> magento2
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">DefaultCatalogModule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">DefaultImgModule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Server</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    modules
<span class="token punctuation">}</span><span class="token punctuation">)</span>

server<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>Now you only need to run <code>node index.js</code></li></ol> <br> <br></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/adempiere/proxy-adempiere-api/edit/master/guide/general/installation.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/proxy-adempiere-api/guide/general/config.html">
          Configuration
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/proxy-adempiere-api/assets/js/app.08c2fc8d.js" defer></script><script src="/proxy-adempiere-api/assets/js/8.c1ebdee6.js" defer></script>
  </body>
</html>
